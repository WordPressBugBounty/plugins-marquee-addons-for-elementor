(function(t,e){"use strict";function n(e){const n=e.find(".infinite-rotation-main-wrapper");if(!n.length)return;const i=n.data("rotationInterval");if(i){clearInterval(i)}t(window).off(`resize.infiniteRotation.${e.data("id")}`);const o=n.find(".deensimc-vertical-scroll-track");const r=n.find(".deensimc-text-rotator-container");const a=n.find(".deensimc-infinite-rotation-container");const s={delay:o.data("rotation-delay")||1,visibleWord:Number(o.data("visible-word"))||5,totalCount:Number(o.data("total-text"))||0,transitionSpeed:600};if(s.visibleWord>s.totalCount||s.visibleWord===s.totalCount){s.visibleWord=s.totalCount}let d=0;let c=true;const l=()=>{if(c){return false}return r[0].getBoundingClientRect().top>a[0].getBoundingClientRect().top+2};const f=()=>{if(l())return 1;const t=s.visibleWord%2===0?s.visibleWord-1:s.visibleWord;return c?2:Math.ceil(t/2)};function m(){const e=f();o.children().each(function(n){const i=t(this);if(n===e){setTimeout(()=>{i.removeClass("deensimc-rotation-active-next deensimc-rotation-active-farnext").addClass("deensimc-rotation-active")},300)}else if(n===e-1||n===e+1){i.removeClass("deensimc-rotation-active deensimc-rotation-active-farnext").addClass("deensimc-rotation-active-next")}else{i.removeClass("deensimc-rotation-active deensimc-rotation-active-next").addClass("deensimc-rotation-active-farnext")}})}function u(){if(!o.children().length)return;d=o.children().first().outerHeight();let e=0;o.children().each(function(){const n=t(this).outerWidth();if(n>e)e=n});r.css("max-width",`${e}px`);const n=s.visibleWord%2===0?s.visibleWord-1:s.visibleWord;const i=l()?d:d*n;r.css("height",`${i}px`)}const v=setInterval(()=>{if(!o.children().length)return;o.css({transition:`transform ${s.transitionSpeed}ms ease-in-out`,transform:`translateY(-${d}px)`});m();setTimeout(()=>{const t=o.children().first();o.append(t);o.css({transition:"none",transform:"translateY(0)"});u()},s.transitionSpeed)},Number(s.delay)*1e3);n.data("rotationInterval",v);requestAnimationFrame(()=>{u();m();c=false});let h;const b=()=>{clearTimeout(h);h=setTimeout(u,250)};t(window).on(`resize.infiniteRotation.${e.data("id")}`,b)}t(window).on("elementor/frontend/init",()=>{elementorFrontend.hooks.addAction("frontend/element_ready/deensimc-animated-word-roller.default",n)})})(jQuery,window._);